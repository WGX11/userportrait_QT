{"remainingRequest":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\src\\views\\new\\SeqMining.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\src\\views\\new\\SeqMining.vue","mtime":1699352770654},{"path":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1699426402170},{"path":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1699426403263},{"path":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1699426402170},{"path":"D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1699426402439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZXFNaW5pbmciLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzZWFyY2g6ICIiLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgdGFza19kYXRhOiBuZXcgQXJyYXkoKSwKICAgICAgZGlhbG9nX2FkZF90YXNrX3Zpc2libGU6IGZhbHNlLAogICAgICBhZGRfdGFza19mb3JtOiB7fSwKICAgICAgc3RhdHVzX2Rlc2M6IG5ldyBNYXAoW1sxLCAi5bey5Yib5bu6Il0sIFsyLCAn6L+Q6KGM5LitJ10sIFszLCAn5bey5a6M5oiQJ11dKQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICByZXF1ZXN0LmdldCgiL2FwaS9zZXFfbWluaW5nIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgInBhZ2VfbnVtIjogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgICJwYWdlX3NpemUiOiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgInNlYXJjaCI6IHRoaXMuc2VhcmNoCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLnN0YXR1c19jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpcy50YXNrX2RhdGEgPSByZXMuc2VxX21pbmluZ190YXNrczsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnRhc2tfZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpcy50YXNrX2RhdGFbaV0uc3RhdHVzX2Rlc2MgPSBfdGhpcy5zdGF0dXNfZGVzYy5nZXQoX3RoaXMudGFza19kYXRhW2ldLnRhc2tfc3RhdHVzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMuc3RhdHVzX21zZwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICAvLyDmlLnlj5jmr4/pobXnmoTlpKflsI8KICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgLy/mlLnlj5jlvZPliY3pobXnoIEKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2VOdW07CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGFkZF9zZXFfbWluaW5nX3Rhc2s6IGZ1bmN0aW9uIGFkZF9zZXFfbWluaW5nX3Rhc2soKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5hZGRfdGFza19mb3JtLnBlcmNlbnQgPSBwYXJzZUludCh0aGlzLmFkZF90YXNrX2Zvcm0ucGVyY2VudCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWRkX3Rhc2tfZm9ybSk7CiAgICAgIHJlcXVlc3QucG9zdCgiL2FwaS9zZXFfbWluaW5nIiwgdGhpcy5hZGRfdGFza19mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLnN0YXR1c19jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIuZGlhbG9nX2FkZF90YXNrX3Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMi5hZGRfdGFza19mb3JtID0ge307CgogICAgICAgICAgX3RoaXMyLmxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogcmVzLnN0YXR1c19tc2cKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlX2Rvd25sb2FkX3Jlc3VsdDogZnVuY3Rpb24gaGFuZGxlX2Rvd25sb2FkX3Jlc3VsdCh0YXNrX2lkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmVxdWVzdC5nZXQoIi9hcGkvc2VxX21pbmluZ19yZXN1bHQvIiArIHRhc2tfaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzX2NvZGUgIT0gbnVsbCAmJiByZXMuc3RhdHVzX2NvZGUgIT0gMCkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS4i+i9veWksei0pSIKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbcmVzXSkpOwogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IHVybDsKICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAncmVzdWx0LnppcCcpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\Project\\userportrait_QT\\user-portrait-for-qt-master\\frontend\\src\\views\\new\\SeqMining.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"margin: 10px 0\">\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>\r\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">查询</el-button>\r\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"this.dialog_add_task_visible = true\">新增任务</el-button>\r\n\r\n      <el-dialog v-model=\"dialog_add_task_visible\" title=\"添加数据挖掘任务\">\r\n        <el-form :model=\"add_task_form\">\r\n          <el-form-item label=\"任务名\">\r\n            <el-input v-model=\"add_task_form.task_name\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"最小支持度(百分比)\">\r\n            <el-input v-model=\"add_task_form.percent\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"this.dialog_add_task_visible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"add_seq_mining_task\">\r\n            确定添加\r\n          </el-button>\r\n        </span>\r\n      </template>\r\n      </el-dialog>\r\n\r\n      <el-table \r\n        v-loading=\"loading\"\r\n        :data=\"task_data\" \r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"task_id\" label=\"任务ID\" width=\"60\" />\r\n        <el-table-column prop=\"task_name\" label=\"任务名\" width=\"100\" />\r\n        <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"150\" />\r\n        <el-table-column prop=\"percent\" label=\"最小支持度(百分比)\" width=\"150\" />\r\n        <el-table-column prop=\"status_desc\" label=\"任务状态\" width=\"100\" >\r\n          <template #default=\"scope\">\r\n            <el-tag\r\n              class=\"mx-1\"\r\n              :disable-transitions=\"false\"\r\n            >\r\n              {{ scope.row.status_desc }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column  label=\"操作\" width=\"400\">\r\n          <template #default=\"scope\">\r\n            <el-button type=\"primary\" size=\"small\" :disabled=\"scope.row.task_status != 3\" @click=\"handle_download_result(scope.row.task_id)\">\r\n              下载挖掘结果\r\n              </el-button>\r\n              <el-button type=\"primary\" size=\"small\">\r\n              重新运行\r\n              </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div style=\"margin: 10px 0\">\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[5, 10, 20]\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n    name: \"SeqMining\",\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        search: \"\",\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n        task_data : new Array(),\r\n        dialog_add_task_visible: false,\r\n        add_task_form: {},\r\n        status_desc: new Map([\r\n          [1, \"已创建\"], \r\n          [2, '运行中'], \r\n          [3, '已完成']\r\n        ])\r\n        \r\n      }\r\n    },\r\n    created() {\r\n      this.load()\r\n    },\r\n    methods: {\r\n      load() {\r\n        this.loading = true\r\n        request.get(\"/api/seq_mining\", {\r\n          params: {\r\n            \"page_num\": this.currentPage,\r\n            \"page_size\": this.pageSize,\r\n            \"search\": this.search\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n          if (res.status_code === 0) {\r\n            this.task_data = res.seq_mining_tasks\r\n            for (let i = 0; i < this.task_data.length; i++) {\r\n              this.task_data[i].status_desc = this.status_desc.get(this.task_data[i].task_status)\r\n            }\r\n            this.total = res.total\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.status_msg\r\n            })\r\n          }\r\n        })\r\n        this.loading = false\r\n      },\r\n      handleSizeChange(pageSize) {  // 改变每页的大小\r\n        this.pageSize = pageSize;\r\n        this.load();\r\n      },\r\n      handleCurrentChange(pageNum) {  //改变当前页码\r\n        this.currentPage = pageNum;\r\n        this.load()\r\n      },\r\n      add_seq_mining_task() {\r\n        this.add_task_form.percent = parseInt(this.add_task_form.percent)\r\n        console.log(this.add_task_form)\r\n        request.post(\"/api/seq_mining\", this.add_task_form).then(res => {\r\n          console.log(res)\r\n          if (res.status_code === 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"添加成功\"\r\n            })\r\n            this.dialog_add_task_visible = false\r\n            this.add_task_form = {}\r\n            this.load()\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.status_msg\r\n            })\r\n          }\r\n        })\r\n      },\r\n      handle_download_result(task_id) {\r\n        request.get(\"/api/seq_mining_result/\" + task_id).then(res => {\r\n\r\n          if (res.status_code != null && res.status_code != 0) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"下载失败\"\r\n            })\r\n            return \r\n          }\r\n          const url = window.URL.createObjectURL(new Blob([res]));\r\n          const link = document.createElement('a');\r\n          link.href = url;\r\n          link.setAttribute('download', 'result.zip');\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n      }\r\n    }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}